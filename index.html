<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
@font-face { 
	font-family: "elamicon"; 
	src: url("elamicon.ttf"); 
}
.elam {
	font-family: elamicon;
	unicode-bidi: bidi-override;
}

.letter {
	font-size: 300%;
}

.fragment {
	font-size: 200%;
	line-height: 1.05em;
}

.line {
	border-top: 0.05em solid black;
	border-bottom: 0.05em solid black;
}

.rtl { direction: rtl; }
.ltr { direction: ltr; }
.rtl-override { direction: rtl; }
.ltr-override { direction: ltr; }

h2 {
	clear: both;
}

.alphabet {
	padding: 0;
	list-style-type: none;
}

.alphabet li {
	margin: 0.1em;
	display: inline-block;
}

.alphabet div {
	padding: 0.3em;

    color: rgba(100, 100, 100, 0.8);
    background-color: #ddd;
	text-shadow: #ddd 0.03ex 0.03ex 0.05ex, #000 0 0 0;
}

#select-direction {
	display: none; /* grace */
}

#playground {
	width: 100%;
	height: 5em;
	font-size: 200%;
}

</style>
<script>
document.addEventListener('DOMContentLoaded', function() {
    /* Clicks to letters in the alphabet add them to playground */
    Array.from(document.getElementsByClassName("letter")).forEach(function(letter) {
        letter.addEventListener('click', function(event) {
            var playground = document.getElementById('playground');
            playground.value = playground.value + event.target.textContent.trim();
        });
    });

    var select_direction = document.getElementById('select-direction');
    select_direction.style.display = 'block';

    var update_direction = function() {
		var dir = form.direction.value;
		Array.from(document.getElementsByClassName("elam")).forEach(function(elm) {
			elm.classList.remove('rtl-override');
			elm.classList.remove('ltr-override');
			if (dir == "rtl") elm.classList.add('rtl-override');
			if (dir == "ltr") elm.classList.add('ltr-override');
		});
    };

    var form = select_direction.children[0];
    form.addEventListener('change', update_direction);
    update_direction();
});
</script>
</head>
<body>
<h1>Elamische Zeichensammlung</h1>

<div id="select-direction">
	<form>
		<label>
			Schreibrichtung
			<select name="direction">
				<option value="" selected>urpsrünglich ⇔</option>
				<option value="ltr">von links ⇒ nach rechts</option>
				<option value="rtl">nach links ⇐ von rechts</option>
			</select>
		</label>
	</form>
</div>

<h2>Die Zeichen</h2>
<ol class="alphabet elam">
	<li class="letter">
		<div class="elam"></div>
	</li>
	<li class="letter">
		<div class="elam"></div>
	</li>
	<li class="letter">
		<div class="elam"></div>
	</li>
    <li class="letter">
        <div class="elam"></div>
    </li>
    <li class="letter">
        <div class="elam"></div>
    </li>
	<li class="letter">
		<div class="elam"></div>
	</li>
	<li class="letter">
		<div class="elam"></div>
	</li>
	<li class="letter">
		<div class="elam"></div>
	</li>
	<li class="letter">
		<div class="elam"></div>
	</li>
    <li class="letter">
        <div class="elam"></div>
    </li>
	<li class="letter">
		<div class="elam"></div>
	</li>
	<li class="letter">
		<div class="elam"></div>
	</li>
	<li class="letter">
		<div class="elam"></div>
	</li>
    <li class="letter">
        <div class="elam"></div>
    </li>
	<li class="letter">
		<div class="elam"></div>
	</li>
	<li class="letter">
		<div class="elam"></div>
	</li>
	<li class="letter">
		<div class="elam"></div>
	</li>
	<li class="letter">
		<div class="elam"></div>
	</li>
	<li class="letter">
		<div class="elam"></div>
	</li>
	<li class="letter">
		<div class="elam"></div>
	</li>
	<li class="letter">
		<div class="elam"></div>
	</li>
	<li class="letter">
		<div class="elam"></div>
	</li>
	<li class="letter">
		<div class="elam"></div>
	</li>
	<li class="letter">
		<div class="elam"></div>
	</li>
	<li class="letter">
		<div class="elam"></div>
	</li>
	<li class="letter">
		<div class="elam"></div>
	</li>
	<li class="letter">
		<div class="elam"></div>
	</li>
	<li class="letter">
		<div class="elam"></div>
	</li>
	<li class="letter">
		<div class="elam"></div>
	</li>
    <li class="letter">
        <div class="elam"></div>
    </li>
	<li class="letter">
		<div class="elam"></div>
	</li>
	<li class="letter">
		<div class="elam"></div>
	</li>
	<li class="letter">
		<div class="elam"></div>
	</li>
	<li class="letter">
		<div class="elam"></div>
	</li>
	<li class="letter">
		<div class="elam"></div>
	</li>
	<li class="letter">
		<div class="elam"></div>
	</li>
    <li class="letter">
        <div class="elam"></div>
    </li>
    <li class="letter">
        <div class="elam"></div>
    </li>
    <li class="letter">
        <div class="elam"></div>
    </li>
    <li class="letter">
        <div class="elam"></div>
    </li>
    <li class="letter">
        <div class="elam"></div>
    </li>
    <li class="letter">
        <div class="elam"></div>
    </li>
    <li class="letter">
        <div class="elam"></div>
    </li>
</ol>

<h2>Spezielle Zeichen</h2>
<dl class="alphabet">

	<dt class="letter elam"></dt>
	<dd>Platzhalter für unbekannte Zeichen.</dd>

	<dt class="letter elam">&nbsp;&nbsp;</dt>
	<dd>Dieses Zeichen kann angefügt werden um ein anderes Zeichen als schlecht lesbar zu markieren.</dd>
</dl>


<h2>Spielplatz</h2>
Wenn du oben auf ein Zeichen klickst wird es hier angefügt.
<textarea class="elam" id="playground">
 
</textarea>


<h2>Textfragmente</h2>
<h3>A</h3>
<div class="fragment elam rtl">
	<span class="line"></span>
	<br>
	<span class="line"></span>
</div>
<h3>Q</h3>
<div class="fragment elam ltr">
	<span class="line">
	&#x200b;&#x200b;&#x200b;&#x200b;
	</span>
</div>
</body>
</html>
